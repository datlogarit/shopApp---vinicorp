
<nav th:fragment="navbar(userId)" style="width: 100%" class="navbar bg-body-tertiary">
    <style>
        .dropdown-menu {
            display: none;
            position: absolute;
            background-color: azure;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            z-index: 1000;
            top: 50px;
            right: -150%;
        }
    
        .dropdown-menu.show {
            display: flex;
        }
    </style>
    <div class="container-fluid">
        <a style="cursor: pointer;" href="/api/v1/home" class="navbar-brand">Vinicorp shop</a>
        <div style="display: flex; flex-direction: row; gap: 20px; align-items: center">
            <form method="get" th:action="@{/api/v1/search}" class="d-flex" role="search">
                <input id="search-input" required maxlength="50" name="keyword" class="form-control me-2" type="search" placeholder="Search"
                    aria-label="Search" />
                <button id="search-button" class="btn btn-outline-success" type="submit">Search</button>
            </form>
            <!-- cart-icon -->
            <div th:unless="${userId == null}" class="dropdown" style="position: relative">
                <ion-icon id="cart-icon" style="font-size: 28px; margin-top: 5px;cursor: pointer;"
                    name="cart-outline"></ion-icon>
                <div style="flex-direction: column; gap: 10px;" class="dropdown-menu" id="dropdownMenu">
                    <div id="product-item">
                        <!-- product item rendered here -->
                    </div>
                    <div id="total" style="
              width: 100%;
              display: flex;
              flex-direction: row;
              justify-content: start;
              align-items: center;
            ">
                        <span style="margin-right: 20px">Total: </span>
                        <span id="total-price" style="font-size: 20px; font-weight: 700">0</span>
                    </div>
                    <div style="
              width: 100%;
              display: flex;
              flex-direction: row;
              justify-content: end;
            ">
                        <button th:action id="buy-button" style="margin-top: 15px" class="btn btn-primary">
                            Buy now
                        </button>
                    </div>
                </div>
           
            </div>
            <!-- history order icon -->
            <ion-icon th:unless="${userId == null}" id="order-history-icon" name="archive-outline" style="font-size: 28px; cursor: pointer;"></ion-icon>
            <!-- out-icon -->
            <ion-icon  th:unless="${userId == null}" id="logout-icon" style="font-size: 26px; cursor: pointer;" name="log-out-outline"></ion-icon>
            <ion-icon id="login-icon" th:if="${userId == null}" style="font-size: 26px; cursor: pointer;" name="finger-print-outline"></ion-icon>
        </div>
    </div>
    <div id="user-info" th:attr="data-user-id=${userId}"></div>
    <script th:src="@{/js/navbar.js}" defer></script>
</nav>