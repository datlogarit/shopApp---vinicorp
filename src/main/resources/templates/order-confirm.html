<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Order page</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />
</head>

<body style="
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: center;
">
  <!-- navbar -->
  <div th:replace="fragments/navbar :: navbar(userId = ${userId})"></div>
  <!-- order info -->
  <h2 style="margin: 15px 0">Confirm order</h2>
  <div style="width: 650px; background-color: azure; padding: 8px; margin-bottom: 20px;">
    <div th:each="item:${items}" id="product-item">
      <div
        style="display: flex; flex-direction: row; justify-content: space-between; height: 100px;padding: 12px; box-sizing: content-box; border-bottom: 1px solid lightgray;">
        <div style="display: flex; flex-direction: row;">
          <img th:src="${item.imgUrl}" style="width: 140px; height: 100px; object-fit: cover; margin-right: 15px;"
            alt="">
          <div style="display: flex; flex-direction: column;justify-content: space-between;">
            <h5 th:text="${item.productName}">Product name</h5>
            <div>
              <span>Price:</span>
              <span th:text="${#numbers.formatInteger(item.price, 0, 'POINT')} + ' ₫'">Specific price</span>
            </div>
          </div>
        </div>
        <div style="display: flex;align-items: center;">
          <input style="height: 30px;width: 70px;" type="number" th:value="${item.quantity}" disabled>
        </div>
      </div>
    </div>

    <div id="payment" style="margin-top: 25px;">
      <h5>Pay method:</h5>
      <div id="pay-methods" style="display: flex; flex-direction: row;justify-content: space-between;">
        <div class="form-check">
          <input value="momo" class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
          <label class="form-check-label" for="radioDefault1">
            Momo
          </label>
        </div>
        <div class="form-check">
          <input value="vnpay" class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
          <label class="form-check-label" for="radioDefault1">
            VnPay
          </label>
        </div>
        <div class="form-check">
          <input value="cod" class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
          <label class="form-check-label" for="radioDefault1">
            Cast
          </label>
        </div>
        <div class="form-check">
          <input value="banking" class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
          <label class="form-check-label" for="radioDefault1">
            Banking
          </label>
        </div>
      </div>
    </div>

    <div id="cost-total" style="margin: 14px 0px;display: flex;flex-direction: row;">
      <h5>Total price: </h5>
      <h5 th:text="${#numbers.formatInteger(totalPrice, 0, 'POINT')} + ' ₫'"
        style="text-decoration: underline; margin-left: 15px;">0đ</h5>
    </div>

    <div id="persional-info">
      <h5>Persional infomation</h5>
      <div style="display: flex; flex-direction: column; gap: 15px;">
        <div style="display: flex;align-items: center;gap: 15px;">
          <p style="margin: 0;width: 150px;">Full name:</p>
          <input maxlength="50" id="name-input" class="form-control me-2" type="text" th:value="${items[0].fullName}" />
          <!-- <input th:value="${item.fullName}" type="text"> -->
        </div>

        <div style="display: flex;align-items: center;gap: 15px;">
          <p style="margin: 0;width: 150px;">Address:</p>
          <input maxlength="50" id="address-input" class="form-control me-2" type="text" th:value="${items[0].address}" />
          <!-- <input th:value="${item.address}" type="text"> -->
        </div>

        <div style="display: flex;align-items: center;gap: 15px;">
          <p style="margin: 0;width: 150px;">Phone number:</p>
          <input maxlength="50" id="phonenumber-input" class="form-control me-2" type="number" th:value="${items[0].phoneNumber}" />
          <!-- <input th:value="${item.phoneNumber}" type="text"> -->
        </div>
      </div>
    </div>

    <div id="pay-icon" style="margin-top: 20px; display: flex; flex-direction: row;justify-content: end;">
      <button class="btn btn-primary" id="buy-confirm-button">Buy now</button>
    </div>
  </div>
</body>
<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
<!-- Ion-icon -->
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script th:inline="javascript">
  window.RAW_ITEMS = /*[[${rawItems}]]*/ [];
  window.USER_ID = /*[[${userId}]]*/ null;
  window.TOTAL_PRICE = /*[[${totalPrice}]]*/ 0;
  console.log('[order-confirm] injected RAW_ITEMS:', window.RAW_ITEMS);
</script>
<script th:src="@{/js/order-confirm.js}" defer></script>

</html>